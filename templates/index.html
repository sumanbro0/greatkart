{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- ========================= SECTION MAIN ========================= -->
{% if not query %}
<section class="section-intro padding-y-sm">
	<div class="container">

		<div class="intro-banner-wrap">
			<img src="{% static 'images/banners/1.jpg' %}" class="img-fluid rounded">
		</div>

	</div> <!-- container //  -->
</section>
{% endif %}
<!-- ========================= SECTION MAIN END// ========================= -->

<!-- ========================= SECTION  ========================= -->
<section class="section-name padding-y-sm">
	<div class="container">
		{% if query %}
		<header class="section-heading">
			<a href="{% url 'store' %}" class="btn btn-outline-primary float-right">See all products</a>
			<h3 class="section-title">search result for {{ query }}</h3>
		</header><!-- sect-heading -->
		{% else %}
		<header class="section-heading">
			<a href="{% url 'store' %}" class="btn btn-outline-primary float-right">See all</a>
			<h3 class="section-title">Popular products</h3>
		</header><!-- sect-heading -->
		{% endif %}

		<div class="row">
			{% for product in products %}
			<div class="col-md-3  ">
				<div class="card card-product-grid">
					{% if product.images.all %}
					<a href="./product-detail.html" class="img-wrap">
						<img src="{{ product.images.all.0.image.url }}" class="card-img-top">
					</a>
					{% endif %}
					<div class="card-body">
						<h5 class="card-title">
							<a href="#" class="title text-primary">{{ product.name }}</a>
						</h5>
						<hr class="my-4">
						<h6 class="card-subtitle mb-2 text-muted">Price</h6>
						<p class="card-text">${{ product.base_price }}</p>
						<a href="#" class="btn btn-primary mt-4 ">View Details</a>
					</div>
				</div>
			</div> <!-- col.// -->
			{% empty %}
			<div class="col-md-12">
				<p>No products found.</p>
			</div>
			{% endfor %}
		</div> <!-- row.// -->

	</div><!-- container // -->
</section>
<!-- ========================= SECTION  END// ========================= -->


{% endblock content %}